<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>[HELIOS] $17 Million NTC Competition Leaderboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet"/>
  <style>
    .font-lato { font-family: 'Lato', sans-serif; }
    th.sortable { cursor: pointer; user-select: none; }

    /* two layered background overlays */
    .table-with-bg {
      position: relative;
      overflow: hidden;
    }
    /* blue-bg tiled vertically, very transparent */
    .table-with-bg::before {
      content: '';
      position: absolute;
      inset: 0;
      background: url('assets/blue-bg.jpg') repeat-y center;
      background-size: auto;
      opacity: 0.1;
      pointer-events: none;
      z-index: 1;
    }
    /* suns.png over that, also transparent */
    .table-with-bg::after {
      content: '';
      position: absolute;
      inset: 0;
      background: url('assets/suns.png') center/cover no-repeat;
      opacity: 0.1;
      pointer-events: none;
      z-index: 2;
    }
    /* ensure rows and cells paint above the overlays */
    .table-with-bg tr {
      position: relative;
      z-index: 3;
    }
    .table-with-bg th,
    .table-with-bg td {
      position: relative;
      z-index: 4;
    }
  </style>
</head>
<body class="bg-slate-900 text-gray-200 min-h-screen p-8 font-sans">
  <h1 class="text-4xl font-extrabold mb-2 text-yellow-400">
    [HELIOS] $17 Million NTC Competition Leaderboard
  </h1>
  <p class="text-sm italic text-gray-400 mb-6">
    Last updated: <span id="updated-at" class="font-mono">Loading…</span>
  </p>

  <div class="flex space-x-6">
    <!-- Main table with dual background overlays -->
    <div class="w-3/4 overflow-x-auto rounded-lg">
      <table class="min-w-full table-with-bg bg-slate-800/70 border-2 border-yellow-400 rounded-lg">
        <thead class="bg-slate-700">
          <tr>
            <th class="px-4 py-3 text-left text-sm font-medium text-gray-300">#</th>
            <th class="px-4 py-3 text-left text-sm font-medium text-gray-300">Name &amp; Title</th>
            <th class="px-4 py-3 text-left text-sm font-medium text-gray-300">Role</th>
            <th id="th-join"   class="px-4 py-3 text-left text-sm font-medium text-gray-300 sortable">
              Member Since <span>▼</span>
            </th>
            <th id="th-last"   class="px-4 py-3 text-left text-sm font-medium text-gray-300 sortable">
              Last Race <span>▼</span>
            </th>
            <th id="th-races" class="px-4 py-3 text-right text-sm font-medium text-gray-300 sortable">
              Races <span>▼</span>
            </th>
          </tr>
        </thead>
        <tbody id="leaderboard" class="divide-y divide-slate-700"></tbody>
      </table>
    </div>

    <!-- Info boxes -->
    <div class="w-1/4 space-y-6">
      <div class="bg-slate-800 border-2 border-yellow-400 rounded-lg p-4 text-center">
        <div id="countdown" class="text-4xl font-extrabold text-yellow-400 mb-1"></div>
        <div class="text-sm text-yellow-400 mb-2">days left in tournament</div>
        <button id="toggle-countdown"
                class="px-2 py-0.5 bg-gray-700 text-xs rounded mt-1">
          Show days only
        </button>
        <div class="text-xs text-gray-400 mt-2">
          June 25th 8 AM (PST/PDT) – July 23rd 8 AM (PST/PDT)
        </div>
      </div>
      <div class="bg-slate-800 border-2 border-yellow-400 rounded-lg p-4">
        <h2 class="text-lg font-semibold text-yellow-400 mb-2">Prizes</h2>
        <p class="text-sm">
          <span class="text-yellow-400 font-bold">1st</span> – 
          <span class="text-green-400 font-semibold">$10,000,000 NITRO CASH</span><br>
          <span class="text-yellow-400 font-bold">2nd</span> – 
          <span class="text-green-400 font-semibold">$5,000,000 NITRO CASH</span><br>
          <span class="text-yellow-400 font-bold">3rd</span> – 
          <span class="text-green-400 font-semibold">$2,000,000 NITRO CASH</span>
        </p>
      </div>
      <div class="bg-slate-800 border-2 border-yellow-400 rounded-lg p-4">
        <h2 class="text-lg font-semibold text-yellow-400 mb-2">Description</h2>
        <p class="text-sm text-gray-300 mb-2">
          Tracks each member’s races since June 25, 2025. Updated hourly (PST/PDT).
        </p>
        <p class="text-xs text-gray-400 mb-0">
          We reserve the right to disqualify you from the tournament if we have good reason to believe that you have cheated (e.g. botting). Please make sure you are adhering to
          <a href="https://www.nitrotype.com/support/tos/" target="_blank"
             class="underline text-blue-300">Nitro Type's&nbsp;TOS</a>.Thank you!
        </p>
      </div>
      <div class="bg-slate-800 border-2 border-yellow-400 rounded-lg p-4">
        <h2 class="text-lg font-semibold text-yellow-400 mb-2">Links</h2>
        <ul class="text-sm space-y-1">
          <li>
            <a href="https://www.nitrotype.com/team/HELIOS" target="_blank" class="underline">
              <span class="text-yellow-300">[HELIOS]</span>
              <span class="text-blue-300"> on Nitro Type</span>
            </a>
          </li>
          <li>
            <a href="https://padlet.com/icarus_/HELIOS" target="_blank"
               class="underline text-blue-300">
              Padlet
            </a>
          </li>
        </ul>
      </div>
      <div class="bg-slate-800 border-2 border-yellow-400 rounded-lg p-4">
        <h2 class="text-lg font-semibold text-yellow-400 mb-2">Credits</h2>
        <p class="text-sm text-gray-300 mb-1">Website created by vioiynx.</p>
        <p class="text-sm text-gray-300">
          Medal icons by
          <a href="https://www.vecteezy.com/free-vector/1st-2nd-3rd-place" target="_blank"
             class="underline text-blue-300">1st&nbsp;2nd&nbsp;3rd&nbsp;Place&nbsp;Vectors&nbsp;by&nbsp;Vecteezy</a>.
        </p>
      </div>
    </div>
  </div>

  <script>
    // Countdown
    const cdEl = document.getElementById('countdown');
    const btn  = document.getElementById('toggle-countdown');
    let exact = true;
    function updateCd() {
      const end = new Date('2025-07-23T08:00:00-07:00');
      let d = end - new Date(); if (d<0) d=0;
      const days = Math.floor(d/86400000),
            hrs  = Math.floor(d%86400000/3600000),
            mins = Math.floor(d%3600000/60000),
            secs = Math.floor(d%60000/1000);
      cdEl.textContent = exact
        ? `${String(days).padStart(2,'0')}:${String(hrs).padStart(2,'0')}:`
          +`${String(mins).padStart(2,'0')}:${String(secs).padStart(2,'0')}`
        : days;
    }
    btn.addEventListener('click', () => {
      exact = !exact;
      btn.textContent = exact ? 'Show days only' : 'Show exact countdown';
      updateCd();
    });
    setInterval(updateCd, 1000);
    updateCd();

    // Sorting & render code omitted for brevity; remains unchanged.
  </script>
</body>
</html>
